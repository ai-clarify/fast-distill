# FastDistill 开源路线图（2026）

## 北极星目标
打造开发者友好的数据生成 + AI 反馈框架：
- **稳定公共 API**（明确兼容性承诺）。
- **插件化组件**（可选依赖按需加载）。
- **可复现实验**（YAML 配置、清单与质量/时序报告）。
- **可量化质量**（可证伪的质量闸门与可比指标）。

## 并行工作流（默认并行推进）
1. **核心运行时**：Pipeline DAG、缓存、调度、错误边界。
2. **组件注册表**：LLM/Embeddings/Steps/Tasks 的发现与懒加载。
3. **Provider 适配层**：统一请求/响应与统计接口。
4. **配置与 CLI**：分层 YAML 配置 + 运行时覆盖 + 校验。
5. **数据平面**：规范化、去重、清单与报告能力。
6. **可观测性**：质量/时序/成本报告与结构化日志。
7. **开发体验与文档**：模板、示例、贡献指南、测试矩阵。

## 里程碑与并行任务

### M0（2026 Q1）：基础稳定
**交付物**
- 组件注册表基础 + Entry-point 发现。
- 公共 API 清单（文档化、版本化、可测试）。
- 基线性能与质量指标入档。

**并行任务**
- 核心运行时：梳理错误体系与缓存失效策略。
- 注册表：引入注册表并与懒加载融合。
- 文档：架构地图与扩展点说明。
- 测试：注册表与公共 API 导入测试。

### M1（2026 Q1–Q2）：Provider 与配置统一
**交付物**
- Provider 适配接口（LLM/Embeddings/Image）。
- 分层配置加载器（base → env → run overrides）。
- CLI 支持按名称选择 Provider。

**并行任务**
- Providers：统一请求/响应包结构与统计字段。
- 配置：YAML Schema + 校验 + 合并规则。
- DX：从 Schema 生成配置模板。

### M2（2026 Q2）：可复现流水线
**交付物**
- 全阶段清单（manifest）与可追溯运行。
- 稳定 run_id + artifact 目录规范。
- 核心 Pipeline 中的确定性质量闸门。

**并行任务**
- 数据平面：一致的规范化 + 哈希策略。
- 可观测性：时序/成本聚合与分阶段汇总。
- 文档：最小复现实验指南。

### M3（2026 Q2–Q3）：开源扩展生态
**交付物**
- Provider/Step 插件机制与示例。
- 社区贡献模板 + 兼容性测试矩阵。
- 发布节奏与版本策略。

**并行任务**
- CI：不同 extras/providers 的兼容性检查。
- 文档：插件编写指南（YAML 示例为主）。
- 示例：按 provider 的参考 pipeline。

### M4（2026 Q3+）：性能与治理
**交付物**
- 成本感知调度 + 动态预算。
- 治理文档：RFC、弃用策略、安全规范。

**并行任务**
- 运行时：自适应批量与降载策略。
- 可观测性：预算告警与可视化。

## 每个里程碑的完成标准
- 文档更新（可行时含中英文）。
- 新逻辑具备单元测试。
- 全量 lint + 测试通过。
- 如有 API 变化，提供迁移说明。

## 当前执行的第一步
1. 交付注册表基础与 Entry-point 发现。
2. 组件导出逻辑切换为注册表驱动。
3. 补齐注册表与冲突处理测试。
